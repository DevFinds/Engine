<ul class="menu-list">
    <?php
    /**
     * @var array $menu_items Массив пунктов меню
     * @var string $menu_name Название меню
     * @var \Core\RenderInterface $render
     * @var \Core\Session\SessionInterface $session
     * @var \Core\Auth\AuthInterface $auth
     */

    // Определяем текущий маршрут для установки активного пункта меню
    $current_route = $_SERVER['REQUEST_URI'];

    function renderMenuItems($items, $current_route)

    {
        foreach ($items as $item) {
            $hasChildren = isset($item['children']) && is_array($item['children']);
            $isActive = ($current_route === $item['url']) ? 'active' : '';

            // Проверка на активность дочерних элементов
            if ($hasChildren) {
                foreach ($item['children'] as $child) {
                    if ($current_route === $child['url']) {
                        $isActive = 'active';
                        break;
                    }
                }
            }

            $icon = isset($item['icon']) ? '<i class="' . htmlspecialchars($item['icon']) . '"></i> ' : '';

            echo '<li class="menu-list-item">';
            echo '<a href="' . htmlspecialchars($item['url']) . '" class="menu-list-item-link ' . $isActive . '">';
            echo $icon . htmlspecialchars($item['name']);
            echo '</a>';

            // Рендеринг подменю
            if ($hasChildren) {
                echo '<ul class="nav flex-column ms-3">';
                renderMenuItems($item['children'], $current_route);
                echo '</ul>';
            }

            echo '</li>';
        }
    }

    ?>



    <!-- <li class="menu-list-item"><a href="" class="menu-list-item-link">
            <svg class="menu-list-item-icon" width="14" height="15" viewBox="0 0 14 15" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M7 2.47038L12.6 8.56047V12.8307C12.6 13.6716 11.9732 14.3533 11.2 14.3533H2.8C2.0268 14.3533 1.4 13.6716 1.4 12.8307V8.56047L7 2.47038Z" fill="currentColor" />
                <path fill-rule="evenodd" clip-rule="evenodd" d="M11.6667 1.66558V5.21813L9.8 3.1881V1.66558C9.8 1.38529 10.0089 1.15807 10.2667 1.15807H11.2C11.4577 1.15807 11.6667 1.38529 11.6667 1.66558Z" fill="currentColor" />
                <path fill-rule="evenodd" clip-rule="evenodd" d="M6.34003 0.650563C6.70452 0.254173 7.29548 0.254175 7.65997 0.650563L13.8633 7.39681C14.0456 7.595 14.0456 7.91634 13.8633 8.11453C13.6811 8.31273 13.3856 8.31273 13.2034 8.11453L7 1.36829L0.79665 8.11453C0.614405 8.31273 0.318928 8.31273 0.136684 8.11453C-0.0455612 7.91634 -0.0455612 7.595 0.136684 7.39681L6.34003 0.650563Z" fill="currentColor" />
            </svg>
            Главная</a></li>
    <li class="menu-list-item"><a href="" class="menu-list-item-link">
            <svg class="menu-list-item-icon" width="12" height="15" viewBox="0 0 12 15" fill="сurrentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M3.42857 1.66577C3.42857 0.940898 4.00421 0.353271 4.71429 0.353271H7.28571C7.99579 0.353271 8.57143 0.940898 8.57143 1.66577V2.54077C8.57143 3.26565 7.99579 3.85327 7.28571 3.85327H4.71429C4.00421 3.85327 3.42857 3.26565 3.42857 2.54077V1.66577ZM7.71429 1.66577C7.71429 1.42415 7.52241 1.22827 7.28571 1.22827H4.71429C4.47759 1.22827 4.28571 1.42415 4.28571 1.66577V2.54077C4.28571 2.7824 4.47759 2.97827 4.71429 2.97827H7.28571C7.52241 2.97827 7.71429 2.7824 7.71429 2.54077V1.66577Z" fill="сurrentColor" />
                <path d="M1.71429 1.66577H2.57143V2.54077C2.57143 3.74889 3.53082 4.72827 4.71429 4.72827H7.28571C8.46918 4.72827 9.42857 3.74889 9.42857 2.54077V1.66577H10.2857C11.2325 1.66577 12 2.44927 12 3.41577V12.6033C12 13.5698 11.2325 14.3533 10.2857 14.3533H1.71429C0.767512 14.3533 0 13.5698 0 12.6033V3.41577C0 2.44927 0.767512 1.66577 1.71429 1.66577Z" fill="сurrentColor" />
            </svg>
            Отчеты
        </a></li>
    <li class="menu-list-item"><a href="./sale_services.html" class="menu-list-item-link">
            <svg class="menu-list-item-icon" width="12" height="15" viewBox="0 0 12 15" fill="сurrentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M3.42857 1.66577C3.42857 0.940898 4.00421 0.353271 4.71429 0.353271H7.28571C7.99579 0.353271 8.57143 0.940898 8.57143 1.66577V2.54077C8.57143 3.26565 7.99579 3.85327 7.28571 3.85327H4.71429C4.00421 3.85327 3.42857 3.26565 3.42857 2.54077V1.66577ZM7.71429 1.66577C7.71429 1.42415 7.52241 1.22827 7.28571 1.22827H4.71429C4.47759 1.22827 4.28571 1.42415 4.28571 1.66577V2.54077C4.28571 2.7824 4.47759 2.97827 4.71429 2.97827H7.28571C7.52241 2.97827 7.71429 2.7824 7.71429 2.54077V1.66577Z" fill="сurrentColor" />
                <path d="M1.71429 1.66577H2.57143V2.54077C2.57143 3.74889 3.53082 4.72827 4.71429 4.72827H7.28571C8.46918 4.72827 9.42857 3.74889 9.42857 2.54077V1.66577H10.2857C11.2325 1.66577 12 2.44927 12 3.41577V12.6033C12 13.5698 11.2325 14.3533 10.2857 14.3533H1.71429C0.767512 14.3533 0 13.5698 0 12.6033V3.41577C0 2.44927 0.767512 1.66577 1.71429 1.66577Z" fill="сurrentColor" />
            </svg>
            Продажа услуг
        </a></li>
    <li class="menu-list-item"><a href="" class="menu-list-item-link">
            <svg class="menu-list-item-icon" width="14" height="15" viewBox="0 0 14 15" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M10.8667 0.353271H3.77333C2.79395 0.353271 2 1.13677 2 2.10327V12.6033C2 13.5698 2.79395 14.3533 3.77333 14.3533H10.8667C11.8461 14.3533 12.64 13.5698 12.64 12.6033V2.10327C12.64 1.13677 11.8461 0.353271 10.8667 0.353271ZM4.66 3.85327H9.98C10.2248 3.85327 10.4233 4.04915 10.4233 4.29077C10.4233 4.5324 10.2248 4.72827 9.98 4.72827H4.66C4.41515 4.72827 4.21667 4.5324 4.21667 4.29077C4.21667 4.04915 4.41515 3.85327 4.66 3.85327ZM4.21667 6.04077C4.21667 5.79915 4.41515 5.60327 4.66 5.60327H9.98C10.2248 5.60327 10.4233 5.79915 10.4233 6.04077C10.4233 6.2824 10.2248 6.47827 9.98 6.47827H4.66C4.41515 6.47827 4.21667 6.2824 4.21667 6.04077ZM4.66 7.35327H9.98C10.2248 7.35327 10.4233 7.54915 10.4233 7.79077C10.4233 8.0324 10.2248 8.22827 9.98 8.22827H4.66C4.41515 8.22827 4.21667 8.0324 4.21667 7.79077C4.21667 7.54915 4.41515 7.35327 4.66 7.35327ZM4.66 9.10327H7.32C7.56485 9.10327 7.76333 9.29915 7.76333 9.54077C7.76333 9.7824 7.56485 9.97827 7.32 9.97827H4.66C4.41515 9.97827 4.21667 9.7824 4.21667 9.54077C4.21667 9.29915 4.41515 9.10327 4.66 9.10327Z" fill="currentColor" />
            </svg>

            Складской учет
        </a></li>
    <li class="menu-list-item"><a href="./financial_accounting.html" class="menu-list-item-link">
            <svg class="menu-list-item-icon" width="14" height="15" viewBox="0 0 14 15" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M10.8667 0.353271H3.77333C2.79395 0.353271 2 1.13677 2 2.10327V12.6033C2 13.5698 2.79395 14.3533 3.77333 14.3533H10.8667C11.8461 14.3533 12.64 13.5698 12.64 12.6033V2.10327C12.64 1.13677 11.8461 0.353271 10.8667 0.353271ZM4.66 3.85327H9.98C10.2248 3.85327 10.4233 4.04915 10.4233 4.29077C10.4233 4.5324 10.2248 4.72827 9.98 4.72827H4.66C4.41515 4.72827 4.21667 4.5324 4.21667 4.29077C4.21667 4.04915 4.41515 3.85327 4.66 3.85327ZM4.21667 6.04077C4.21667 5.79915 4.41515 5.60327 4.66 5.60327H9.98C10.2248 5.60327 10.4233 5.79915 10.4233 6.04077C10.4233 6.2824 10.2248 6.47827 9.98 6.47827H4.66C4.41515 6.47827 4.21667 6.2824 4.21667 6.04077ZM4.66 7.35327H9.98C10.2248 7.35327 10.4233 7.54915 10.4233 7.79077C10.4233 8.0324 10.2248 8.22827 9.98 8.22827H4.66C4.41515 8.22827 4.21667 8.0324 4.21667 7.79077C4.21667 7.54915 4.41515 7.35327 4.66 7.35327ZM4.66 9.10327H7.32C7.56485 9.10327 7.76333 9.29915 7.76333 9.54077C7.76333 9.7824 7.56485 9.97827 7.32 9.97827H4.66C4.41515 9.97827 4.21667 9.7824 4.21667 9.54077C4.21667 9.29915 4.41515 9.10327 4.66 9.10327Z" fill="currentColor" />
            </svg>
            Финансовый учет
        </a></li>
    <li class="menu-list-item"><a href="./manage_company.html" class="menu-list-item-link">
            <svg class="menu-list-item-icon" width="14" height="15" viewBox="0 0 14 15" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M8.22908 1.27236C7.86788 0.0469086 6.13212 0.0469091 5.77092 1.27236L5.68333 1.56955C5.45254 2.35256 4.55818 2.72301 3.84132 2.33253L3.56924 2.18433C2.44731 1.57321 1.21994 2.80058 1.83106 3.92251L1.97926 4.19459C2.36974 4.91146 1.99929 5.80581 1.21628 6.0366L0.919088 6.12419C-0.306363 6.48539 -0.306362 8.22115 0.919088 8.58235L1.21628 8.66995C1.99929 8.90074 2.36974 9.79509 1.97926 10.512L1.83106 10.784C1.21994 11.906 2.44731 13.1333 3.56924 12.5222L3.84132 12.374C4.55818 11.9835 5.45254 12.354 5.68333 13.137L5.77092 13.4342C6.13212 14.6596 7.86788 14.6596 8.22908 13.4342L8.31668 13.137C8.54747 12.354 9.44182 11.9835 10.1587 12.374L10.4308 12.5222C11.5527 13.1333 12.7801 11.906 12.1689 10.784L12.0207 10.512C11.6303 9.79509 12.0007 8.90074 12.7837 8.66995L13.0809 8.58235C14.3064 8.22115 14.3064 6.48539 13.0809 6.12419L12.7837 6.0366C12.0007 5.80581 11.6303 4.91146 12.0207 4.19459L12.1689 3.92251C12.7801 2.80058 11.5527 1.57321 10.4308 2.18433L10.1587 2.33253C9.44182 2.72301 8.54747 2.35256 8.31668 1.56955L8.22908 1.27236ZM7 9.91598C5.58465 9.91598 4.43729 8.76862 4.43729 7.35327C4.43729 5.93793 5.58465 4.79056 7 4.79056C8.41535 4.79056 9.56271 5.93793 9.56271 7.35327C9.56271 8.76862 8.41535 9.91598 7 9.91598Z" fill="currentColor" />
            </svg>
            Управление компанией
        </a></li>
    <li class="menu-list-item"><a href="" class="menu-list-item-link">
            <svg class="menu-list-item-icon" width="14" height="15" viewBox="0 0 14 15" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M8.22908 1.27236C7.86788 0.0469086 6.13212 0.0469091 5.77092 1.27236L5.68333 1.56955C5.45254 2.35256 4.55818 2.72301 3.84132 2.33253L3.56924 2.18433C2.44731 1.57321 1.21994 2.80058 1.83106 3.92251L1.97926 4.19459C2.36974 4.91146 1.99929 5.80581 1.21628 6.0366L0.919088 6.12419C-0.306363 6.48539 -0.306362 8.22115 0.919088 8.58235L1.21628 8.66995C1.99929 8.90074 2.36974 9.79509 1.97926 10.512L1.83106 10.784C1.21994 11.906 2.44731 13.1333 3.56924 12.5222L3.84132 12.374C4.55818 11.9835 5.45254 12.354 5.68333 13.137L5.77092 13.4342C6.13212 14.6596 7.86788 14.6596 8.22908 13.4342L8.31668 13.137C8.54747 12.354 9.44182 11.9835 10.1587 12.374L10.4308 12.5222C11.5527 13.1333 12.7801 11.906 12.1689 10.784L12.0207 10.512C11.6303 9.79509 12.0007 8.90074 12.7837 8.66995L13.0809 8.58235C14.3064 8.22115 14.3064 6.48539 13.0809 6.12419L12.7837 6.0366C12.0007 5.80581 11.6303 4.91146 12.0207 4.19459L12.1689 3.92251C12.7801 2.80058 11.5527 1.57321 10.4308 2.18433L10.1587 2.33253C9.44182 2.72301 8.54747 2.35256 8.31668 1.56955L8.22908 1.27236ZM7 9.91598C5.58465 9.91598 4.43729 8.76862 4.43729 7.35327C4.43729 5.93793 5.58465 4.79056 7 4.79056C8.41535 4.79056 9.56271 5.93793 9.56271 7.35327C9.56271 8.76862 8.41535 9.91598 7 9.91598Z" fill="currentColor" />
            </svg>
            Управление доступом
        </a></li>
    <li class="menu-list-item"><a href="" class="menu-list-item-link">
            <svg class="menu-list-item-icon" width="14" height="15" viewBox="0 0 14 15" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M8.22908 1.27236C7.86788 0.0469086 6.13212 0.0469091 5.77092 1.27236L5.68333 1.56955C5.45254 2.35256 4.55818 2.72301 3.84132 2.33253L3.56924 2.18433C2.44731 1.57321 1.21994 2.80058 1.83106 3.92251L1.97926 4.19459C2.36974 4.91146 1.99929 5.80581 1.21628 6.0366L0.919088 6.12419C-0.306363 6.48539 -0.306362 8.22115 0.919088 8.58235L1.21628 8.66995C1.99929 8.90074 2.36974 9.79509 1.97926 10.512L1.83106 10.784C1.21994 11.906 2.44731 13.1333 3.56924 12.5222L3.84132 12.374C4.55818 11.9835 5.45254 12.354 5.68333 13.137L5.77092 13.4342C6.13212 14.6596 7.86788 14.6596 8.22908 13.4342L8.31668 13.137C8.54747 12.354 9.44182 11.9835 10.1587 12.374L10.4308 12.5222C11.5527 13.1333 12.7801 11.906 12.1689 10.784L12.0207 10.512C11.6303 9.79509 12.0007 8.90074 12.7837 8.66995L13.0809 8.58235C14.3064 8.22115 14.3064 6.48539 13.0809 6.12419L12.7837 6.0366C12.0007 5.80581 11.6303 4.91146 12.0207 4.19459L12.1689 3.92251C12.7801 2.80058 11.5527 1.57321 10.4308 2.18433L10.1587 2.33253C9.44182 2.72301 8.54747 2.35256 8.31668 1.56955L8.22908 1.27236ZM7 9.91598C5.58465 9.91598 4.43729 8.76862 4.43729 7.35327C4.43729 5.93793 5.58465 4.79056 7 4.79056C8.41535 4.79056 9.56271 5.93793 9.56271 7.35327C9.56271 8.76862 8.41535 9.91598 7 9.91598Z" fill="currentColor" />
            </svg>
            Настройки
        </a></li> -->
</ul>